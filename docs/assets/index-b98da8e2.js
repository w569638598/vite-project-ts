var Z=Object.defineProperty;var D=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var S=(t,e,a)=>e in t?Z(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,$=(t,e)=>{for(var a in e||(e={}))ee.call(e,a)&&S(t,a,e[a]);if(D)for(var a of D(e))te.call(e,a)&&S(t,a,e[a]);return t};import{z as oe,d as I,o as l,f as m,a as h,t as A,A as ae,B as F,l as E,C as le,r as d,F as L,g as w,u as y,D as re,c as i,w as n,b as r,E as s,e as B,G as ne,p as de,i as ce,H as se,I as ie}from"./index-f52995a8.js";import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";const C=oe("drag",{state:()=>({dragEl:{},formList:[],currentClickItem:{}}),getters:{funform(){console.log(this.formList)}},actions:{setDrag(t){this.dragEl=t},pushFormList(t){this.formList.push(t)},setFormList(t){this.formList.splice(this.formList.findIndex(e=>e.id==t.id),1,t)},delFormList(t){this.formList.splice(this.formList.findIndex(e=>e.id==t.id),1)},setCurrentClickItem(t){this.currentClickItem=t}}});let v;const ue=new Uint8Array(16);function pe(){if(!v&&(v=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!v))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v(ue)}const c=[];for(let t=0;t<256;++t)c.push((t+256).toString(16).slice(1));function _e(t,e=0){return(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase()}const me=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),z={randomUUID:me};function fe(t,e,a){if(z.randomUUID&&!e&&!t)return z.randomUUID();t=t||{};const p=t.random||(t.rng||pe)();if(p[6]=p[6]&15|64,p[8]=p[8]&63|128,e){a=a||0;for(let _=0;_<16;++_)e[a+_]=p[_];return e}return _e(p)}const ye=["draggable"],ge={class:"label"},ke=I({__name:"el",props:{formItem:null,source:null},setup(t){const e=t,a=C();function p(f){if(e.source!=="list")return;console.log(e.source,"source");const g={id:fe(),data:$({},e.formItem.data),index:a.formList.length,type:e.formItem.type};a.setDrag(g)}function _(){e.source!="list"&&a.setCurrentClickItem(a.formList.filter(f=>f.id===e.formItem.id)[0])}return(f,g)=>(l(),m("div",{class:"dropEl",draggable:e.source=="list",onDragstart:g[0]||(g[0]=k=>p()),onClick:_},[h("span",ge,A(e.formItem.data.label)+"：",1),ae(f.$slots,"default",{},void 0,!0)],40,ye))}});const u=x(ke,[["__scopeId","data-v-1dfe6de0"]]),he=t=>(de("data-v-6fabbd57"),t=t(),ce(),t),Ie={class:"itemBox"},xe=he(()=>h("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500kb ",-1)),be={key:0,class:"buttons"},ve=I({__name:"dragBox",setup(t){let e=C();const{formList:a}=F(e),p=E();function _(k){e.pushFormList(e.dragEl),e.setCurrentClickItem(e.dragEl)}function f(){e.delFormList(e.currentClickItem)}let g=E(700);return le(()=>{g.value=window.innerHeight-100}),(k,b)=>{const R=d("el-autocomplete"),T=d("el-input"),H=d("el-cascader"),N=d("el-checkbox"),j=d("el-color-picker"),M=d("el-date-picker"),O=d("el-radio"),G=d("el-radio-group"),J=d("el-rate"),P=d("el-slider"),q=d("el-switch"),K=d("el-time-picker"),Q=d("el-transfer"),W=d("el-button"),X=d("el-upload"),Y=d("Editor"),U=d("icon");return l(),m("div",{class:"dragTargetBox",onDragover:b[0]||(b[0]=o=>{o.preventDefault()}),onDrop:_,ref_key:"dragBox",ref:p,style:re({height:y(g)+"px"})},[(l(!0),m(L,null,w(y(a),(o,Ae)=>(l(),m("div",Ie,[h("div",{class:ne(["box",[o.id===y(e).currentClickItem.id?"action":""]])},[o.type=="autocomplete"?(l(),i(u,{key:0,formItem:o,type:"autocomplete",source:"dragContentBox",id:o.id},{default:n(()=>[r(R,{clearable:"",class:"inline-input w-50",placeholder:"Please Input"})]),_:2},1032,["formItem","id"])):s("",!0),o.type=="input"?(l(),i(u,{key:1,formItem:o,type:"input",source:"dragContentBox",id:o.id},{default:n(()=>[r(T,{modelValue:o.data.value,"onUpdate:modelValue":V=>o.data.value=V,placeholder:o.data.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["formItem","id"])):s("",!0),o.type=="cascader"?(l(),i(u,{key:2,formItem:o,type:"cascader",source:"dragContentBox",id:o.id},{default:n(()=>[r(H)]),_:2},1032,["formItem","id"])):s("",!0),o.type=="checkbox"?(l(),i(u,{key:3,formItem:o,type:"checkbox",source:"dragContentBox",id:o.id},{default:n(()=>[r(N,{label:"Option 1",size:"large"})]),_:2},1032,["formItem","id"])):s("",!0),o.type=="color-picker"?(l(),i(u,{key:4,formItem:o,type:"color-picker",source:"dragContentBox",id:o.id},{default:n(()=>[r(j,{modelValue:o.data.value,"onUpdate:modelValue":V=>o.data.value=V},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["formItem","id"])):s("",!0),o.type=="date-picker"?(l(),i(u,{key:5,formItem:o,type:"date-picker",source:"dragContentBox",id:o.id},{default:n(()=>[r(M,{type:"daterange","unlink-panels":"","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"})]),_:2},1032,["formItem","id"])):s("",!0),o.type=="radio"?(l(),i(u,{key:6,formItem:o,type:"radio",source:"dragContentBox"},{default:n(()=>[r(G,null,{default:n(()=>[r(O,null,{default:n(()=>[B("Option A")]),_:1})]),_:1})]),_:2},1032,["formItem"])):s("",!0),o.type=="rate"?(l(),i(u,{key:7,formItem:o,type:"rate",source:"dragContentBox",id:o.id},{default:n(()=>[r(J,{clearable:""})]),_:2},1032,["formItem","id"])):s("",!0),o.type=="slider"?(l(),i(u,{key:8,formItem:o,type:"slider",source:"dragContentBox",id:o.id},{default:n(()=>[r(P,{"show-input":""})]),_:2},1032,["formItem","id"])):s("",!0),o.type=="switch"?(l(),i(u,{key:9,formItem:o,type:"switch",source:"dragContentBox",id:o.id},{default:n(()=>[r(q)]),_:2},1032,["formItem","id"])):s("",!0),o.type=="time-picker"?(l(),i(u,{key:10,formItem:o,type:"time-picker",source:"dragContentBox",id:o.id},{default:n(()=>[r(K,{placeholder:"Arbitrary time"})]),_:2},1032,["formItem","id"])):s("",!0),o.type=="transfer"?(l(),i(u,{key:11,formItem:o,type:"time-picker",source:"dragContentBox",id:o.id},{default:n(()=>[r(Q,{filterable:"","filter-placeholder":"State Abbreviations"})]),_:2},1032,["formItem","id"])):s("",!0),o.type=="upload"?(l(),i(u,{key:12,formItem:o,type:"upload",source:"dragContentBox",id:o.id},{default:n(()=>[r(X,{class:"upload-demo",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15","list-type":"picture"},{tip:n(()=>[xe]),default:n(()=>[r(W,{type:"primary"},{default:n(()=>[B("Click to upload")]),_:1})]),_:1})]),_:2},1032,["formItem","id"])):s("",!0),o.type=="editor"?(l(),i(u,{key:13,formItem:o,type:"editor",source:"dragContentBox",id:o.id},{default:n(()=>[r(Y,{"api-key":"yfycp4lfoy30yk39nix1traf87r0gicugdxyybxlnzi8sa8l"})]),_:2},1032,["formItem","id"])):s("",!0)],2),o.id===y(e).currentClickItem.id?(l(),m("div",be,[r(U,{icon:"ic:outline-copy-all",color:"#4b96d6",style:{border:"solid 1px #ccc"}}),r(U,{onClick:f,icon:"material-symbols:delete-outline",color:"#fc6f6f",style:{border:"solid 1px #ccc"}})])):s("",!0)]))),256))],36)}}});const Ce=x(ve,[["__scopeId","data-v-6fabbd57"]]),Ve=[{type:"input",icon:"line-md:edit",data:{defaultVal:"",label:"输入框",key:"name",placeholder:"请输入",value:""}},{type:"cascader",icon:"entypo:flow-cascade",data:{defaultVal:"",label:"级联选择器",key:"",placeholder:""}},{type:"checkbox",icon:"healthicons:i-exam-multiple-choice-outline",data:{defaultVal:"",label:"多选框",key:""}},{type:"color-picker",icon:"carbon:color-palette",data:{defaultVal:"",label:"取色器",key:"",value:""}},{type:"date-picker",icon:"gg:calendar-dates",data:{defaultVal:"",label:"时间区间选择器",key:"",placeholder:""}},{type:"radio",icon:"ic:sharp-radio-button-checked",data:{defaultVal:"",label:"单选框",key:""}},{type:"rate",icon:"ic:outline-grade",data:{defaultVal:"",label:"评分",key:""}},{type:"slider",icon:"uil:slider-h",data:{defaultVal:"",label:"滑块",key:""}},{type:"switch",icon:"mdi:toggle-switch-off-outline",data:{defaultVal:"",label:"开关",key:""}},{type:"time-picker",icon:"ic:round-access-time",data:{defaultVal:"",label:"时间选择器",key:"",placeholder:""}},{type:"transfer",icon:"solar:transfer-horizontal-linear",data:{defaultVal:"",label:"穿梭框",key:"",placeholder:""}},{type:"upload",icon:"ic:round-upload-file",data:{defaultVal:"",label:"文件上传",key:""}},{type:"editor",icon:"gala:editor",data:{defaultVal:"",label:"富文本",key:"",placeholder:""}}],Be=I({__name:"dragList",setup(t){return(e,a)=>{const p=d("icon");return l(),m("div",null,[(l(!0),m(L,null,w(y(Ve),_=>(l(),i(u,{class:"leftDragItem",formItem:_,source:"list"},{default:n(()=>[r(p,{icon:_.icon},null,8,["icon"])]),_:2},1032,["formItem"]))),256))])}}});const Le=x(Be,[["__scopeId","data-v-612b9c01"]]),we={key:0},Ue=I({__name:"attr",setup(t){const e=C(),{currentClickItem:a}=F(e);return e.$subscribe(()=>{console.log(a.value,"currentClickItem")}),(p,_)=>{const f=d("el-input");return y(a).data?(l(),m("ul",we,[(l(!0),m(L,null,w(y(a).data,(g,k)=>(l(),m("li",null,[h("span",null,A(k)+":",1),r(f,{modelValue:y(a).data[k],"onUpdate:modelValue":b=>y(a).data[k]=b,placeholder:y(a).data.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])]))),256))])):s("",!0)}}});const De=x(Ue,[["__scopeId","data-v-f1d342a1"]]),Se={class:"dragMain"},$e={class:"header"},Ee={class:"main"},ze=I({__name:"index",setup(t){let e=C();se(()=>{}),ie(()=>{});function a(){e.formList,console.log(e.formList)}return(p,_)=>{const f=d("el-button");return l(),m("div",Se,[h("div",$e,[r(f,{type:"primary",onClick:a},{default:n(()=>[B("导出")]),_:1})]),h("div",Ee,[r(Le),r(Ce),r(De)])])}}});const He=x(ze,[["__scopeId","data-v-798a851d"]]);export{He as default};
