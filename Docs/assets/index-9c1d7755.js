import{z as W,d as h,o as a,f as m,a as v,t as E,A as X,B as $,l as U,C as Y,r as d,F as V,g as B,u as y,D as Z,c as i,w as r,b as l,E as s,e as D,G as ee,p as te,i as oe,H as ae,I as le}from"./index-dc8b198f.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";const L=W("drag",{state:()=>({dragEl:{},formList:[],currentClickItem:{}}),getters:{funform(){console.log(this.formList)}},actions:{setDrag(o){this.dragEl=o},pushFormList(o){this.formList.push(o)},setFormList(o){this.formList.splice(this.formList.findIndex(t=>t.id==o.id),1,o)},delFormList(o){this.formList.splice(this.formList.findIndex(t=>t.id==o.id),1)},setCurrentClickItem(o){this.currentClickItem=o}}});let x;const re=new Uint8Array(16);function ne(){if(!x&&(x=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!x))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x(re)}const c=[];for(let o=0;o<256;++o)c.push((o+256).toString(16).slice(1));function de(o,t=0){return(c[o[t+0]]+c[o[t+1]]+c[o[t+2]]+c[o[t+3]]+"-"+c[o[t+4]]+c[o[t+5]]+"-"+c[o[t+6]]+c[o[t+7]]+"-"+c[o[t+8]]+c[o[t+9]]+"-"+c[o[t+10]]+c[o[t+11]]+c[o[t+12]]+c[o[t+13]]+c[o[t+14]]+c[o[t+15]]).toLowerCase()}const ce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),S={randomUUID:ce};function se(o,t,n){if(S.randomUUID&&!t&&!o)return S.randomUUID();o=o||{};const p=o.random||(o.rng||ne)();if(p[6]=p[6]&15|64,p[8]=p[8]&63|128,t){n=n||0;for(let _=0;_<16;++_)t[n+_]=p[_];return t}return de(p)}const ie=["draggable"],ue={class:"label"},pe=h({__name:"el",props:{formItem:null,source:null},setup(o){const t=o,n=L();function p(f){if(t.source!=="list")return;console.log(t.source,"source");const g={id:se(),data:{...t.formItem.data},index:n.formList.length,type:t.formItem.type};n.setDrag(g)}function _(){t.source!="list"&&n.setCurrentClickItem(n.formList.filter(f=>f.id===t.formItem.id)[0])}return(f,g)=>(a(),m("div",{class:"dropEl",draggable:t.source=="list",onDragstart:g[0]||(g[0]=k=>p()),onClick:_},[v("span",ue,E(t.formItem.data.label)+"：",1),X(f.$slots,"default",{},void 0,!0)],40,ie))}});const u=I(pe,[["__scopeId","data-v-1dfe6de0"]]),_e=o=>(te("data-v-6fabbd57"),o=o(),oe(),o),me={class:"itemBox"},ye=_e(()=>v("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500kb ",-1)),fe={key:0,class:"buttons"},ge=h({__name:"dragBox",setup(o){let t=L();const{formList:n}=$(t),p=U();function _(k){t.pushFormList(t.dragEl),t.setCurrentClickItem(t.dragEl)}function f(){t.delFormList(t.currentClickItem)}let g=U(700);return Y(()=>{g.value=window.innerHeight-100}),(k,b)=>{const z=d("el-autocomplete"),A=d("el-input"),F=d("el-cascader"),R=d("el-checkbox"),T=d("el-color-picker"),H=d("el-date-picker"),N=d("el-radio"),j=d("el-radio-group"),M=d("el-rate"),O=d("el-slider"),G=d("el-switch"),P=d("el-time-picker"),q=d("el-transfer"),J=d("el-button"),K=d("el-upload"),Q=d("Editor"),w=d("icon");return a(),m("div",{class:"dragTargetBox",onDragover:b[0]||(b[0]=e=>{e.preventDefault()}),onDrop:_,ref_key:"dragBox",ref:p,style:Z({height:y(g)+"px"})},[(a(!0),m(V,null,B(y(n),(e,Le)=>(a(),m("div",me,[v("div",{class:ee(["box",[e.id===y(t).currentClickItem.id?"action":""]])},[e.type=="autocomplete"?(a(),i(u,{key:0,formItem:e,type:"autocomplete",source:"dragContentBox",id:e.id},{default:r(()=>[l(z,{clearable:"",class:"inline-input w-50",placeholder:"Please Input"})]),_:2},1032,["formItem","id"])):s("",!0),e.type=="input"?(a(),i(u,{key:1,formItem:e,type:"input",source:"dragContentBox",id:e.id},{default:r(()=>[l(A,{modelValue:e.data.value,"onUpdate:modelValue":C=>e.data.value=C,placeholder:e.data.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["formItem","id"])):s("",!0),e.type=="cascader"?(a(),i(u,{key:2,formItem:e,type:"cascader",source:"dragContentBox",id:e.id},{default:r(()=>[l(F)]),_:2},1032,["formItem","id"])):s("",!0),e.type=="checkbox"?(a(),i(u,{key:3,formItem:e,type:"checkbox",source:"dragContentBox",id:e.id},{default:r(()=>[l(R,{label:"Option 1",size:"large"})]),_:2},1032,["formItem","id"])):s("",!0),e.type=="color-picker"?(a(),i(u,{key:4,formItem:e,type:"color-picker",source:"dragContentBox",id:e.id},{default:r(()=>[l(T,{modelValue:e.data.value,"onUpdate:modelValue":C=>e.data.value=C},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["formItem","id"])):s("",!0),e.type=="date-picker"?(a(),i(u,{key:5,formItem:e,type:"date-picker",source:"dragContentBox",id:e.id},{default:r(()=>[l(H,{type:"daterange","unlink-panels":"","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"})]),_:2},1032,["formItem","id"])):s("",!0),e.type=="radio"?(a(),i(u,{key:6,formItem:e,type:"radio",source:"dragContentBox"},{default:r(()=>[l(j,null,{default:r(()=>[l(N,null,{default:r(()=>[D("Option A")]),_:1})]),_:1})]),_:2},1032,["formItem"])):s("",!0),e.type=="rate"?(a(),i(u,{key:7,formItem:e,type:"rate",source:"dragContentBox",id:e.id},{default:r(()=>[l(M,{clearable:""})]),_:2},1032,["formItem","id"])):s("",!0),e.type=="slider"?(a(),i(u,{key:8,formItem:e,type:"slider",source:"dragContentBox",id:e.id},{default:r(()=>[l(O,{"show-input":""})]),_:2},1032,["formItem","id"])):s("",!0),e.type=="switch"?(a(),i(u,{key:9,formItem:e,type:"switch",source:"dragContentBox",id:e.id},{default:r(()=>[l(G)]),_:2},1032,["formItem","id"])):s("",!0),e.type=="time-picker"?(a(),i(u,{key:10,formItem:e,type:"time-picker",source:"dragContentBox",id:e.id},{default:r(()=>[l(P,{placeholder:"Arbitrary time"})]),_:2},1032,["formItem","id"])):s("",!0),e.type=="transfer"?(a(),i(u,{key:11,formItem:e,type:"time-picker",source:"dragContentBox",id:e.id},{default:r(()=>[l(q,{filterable:"","filter-placeholder":"State Abbreviations"})]),_:2},1032,["formItem","id"])):s("",!0),e.type=="upload"?(a(),i(u,{key:12,formItem:e,type:"upload",source:"dragContentBox",id:e.id},{default:r(()=>[l(K,{class:"upload-demo",action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15","list-type":"picture"},{tip:r(()=>[ye]),default:r(()=>[l(J,{type:"primary"},{default:r(()=>[D("Click to upload")]),_:1})]),_:1})]),_:2},1032,["formItem","id"])):s("",!0),e.type=="editor"?(a(),i(u,{key:13,formItem:e,type:"editor",source:"dragContentBox",id:e.id},{default:r(()=>[l(Q,{"api-key":"yfycp4lfoy30yk39nix1traf87r0gicugdxyybxlnzi8sa8l"})]),_:2},1032,["formItem","id"])):s("",!0)],2),e.id===y(t).currentClickItem.id?(a(),m("div",fe,[l(w,{icon:"ic:outline-copy-all",color:"#4b96d6",style:{border:"solid 1px #ccc"}}),l(w,{onClick:f,icon:"material-symbols:delete-outline",color:"#fc6f6f",style:{border:"solid 1px #ccc"}})])):s("",!0)]))),256))],36)}}});const ke=I(ge,[["__scopeId","data-v-6fabbd57"]]),he=[{type:"input",icon:"line-md:edit",data:{defaultVal:"",label:"输入框",key:"name",placeholder:"请输入",value:""}},{type:"cascader",icon:"entypo:flow-cascade",data:{defaultVal:"",label:"级联选择器",key:"",placeholder:""}},{type:"checkbox",icon:"healthicons:i-exam-multiple-choice-outline",data:{defaultVal:"",label:"多选框",key:""}},{type:"color-picker",icon:"carbon:color-palette",data:{defaultVal:"",label:"取色器",key:"",value:""}},{type:"date-picker",icon:"gg:calendar-dates",data:{defaultVal:"",label:"时间区间选择器",key:"",placeholder:""}},{type:"radio",icon:"ic:sharp-radio-button-checked",data:{defaultVal:"",label:"单选框",key:""}},{type:"rate",icon:"ic:outline-grade",data:{defaultVal:"",label:"评分",key:""}},{type:"slider",icon:"uil:slider-h",data:{defaultVal:"",label:"滑块",key:""}},{type:"switch",icon:"mdi:toggle-switch-off-outline",data:{defaultVal:"",label:"开关",key:""}},{type:"time-picker",icon:"ic:round-access-time",data:{defaultVal:"",label:"时间选择器",key:"",placeholder:""}},{type:"transfer",icon:"solar:transfer-horizontal-linear",data:{defaultVal:"",label:"穿梭框",key:"",placeholder:""}},{type:"upload",icon:"ic:round-upload-file",data:{defaultVal:"",label:"文件上传",key:""}},{type:"editor",icon:"gala:editor",data:{defaultVal:"",label:"富文本",key:"",placeholder:""}}],Ie=h({__name:"dragList",setup(o){return(t,n)=>{const p=d("icon");return a(),m("div",null,[(a(!0),m(V,null,B(y(he),_=>(a(),i(u,{class:"leftDragItem",formItem:_,source:"list"},{default:r(()=>[l(p,{icon:_.icon},null,8,["icon"])]),_:2},1032,["formItem"]))),256))])}}});const be=I(Ie,[["__scopeId","data-v-612b9c01"]]),xe={key:0},ve=h({__name:"attr",setup(o){const t=L(),{currentClickItem:n}=$(t);return t.$subscribe(()=>{console.log(n.value,"currentClickItem")}),(p,_)=>{const f=d("el-input");return y(n).data?(a(),m("ul",xe,[(a(!0),m(V,null,B(y(n).data,(g,k)=>(a(),m("li",null,[v("span",null,E(k)+":",1),l(f,{modelValue:y(n).data[k],"onUpdate:modelValue":b=>y(n).data[k]=b,placeholder:y(n).data.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])]))),256))])):s("",!0)}}});const Ce=I(ve,[["__scopeId","data-v-f1d342a1"]]),Ve={class:"dragMain"},Be=h({__name:"index",setup(o){return ae(()=>{}),le(()=>{}),(t,n)=>(a(),m("div",Ve,[l(be),l(ke),l(Ce)]))}});const De=I(Be,[["__scopeId","data-v-b7db153e"]]);export{De as default};
